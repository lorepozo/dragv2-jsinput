<p style="font-size: 1.2em;line-height: 1.35em;color: #444;padding: 0;margin: 60px 0 40px;font-family: 'helvetica neue', helvetica, arial, sans-serif;font-weight: 200;"><span style="font-size:2em;color:black;line-height:2em;">Dragcreator documentation <br><span style='font-size:.7em;color:#444;'>for dragv2 edX Problem Types</span></span><br>To start using dragv2, you need the following files in your static folder. Dragcreator will create <code><i style="color:orange;">problemName</i>.json</code> and provide XML for you to put into studio.<br><br><code style="color:#444;"><strong>dragv2.html</strong><br><i style="color:orange;">problemName</i>.json&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#777;">From Dragcreator</span><br><i>Your images</i>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#777;">used in problem</span></code><br><br><code style="color:#444;">dragv2.html</code> is located in this folder. This file only needs to be uploaded <strong>once</strong>. Every dragv2 problem will depend on this exact file. <code><i style="color:orange;">problemName</i>.json</code> will be created using Dragcreator, and can be downloaded via the [SHIFT][ENTER] menu. Using Dragcreator requires <code>Dragcreator.js</code>, while dragv2 problems don't.<br><br>Insert the xml obtained using dragcreator into studio's advanced problem editor. The <code>jsinput</code> tag will look like this:<br><br><code style="color:#666;"><span style="opacity:.5"><span style="color:green;">&lt;customresponse</span> <span style="color:blue;">cfn</span>=<span style="color:red;">"check"</span><span style="color:blue;">expect</span>=<span style="color:red;">"<i style="color:orange;">problem_answer</i>"</span><span style="color:green;">&gt;</span></span><br>&nbsp;&nbsp;<span style="color:green;">&lt;jsinput</span> <span style="color:blue;">gradefn</span>=<span style="color:red;">"JSInput.getGrade"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">get_statefn</span>=<span style="color:red;">"JSInput.getState"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">set_statefn</span>=<span style="color:red;">"JSInput.setState"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">width</span>=<span style="color:red;">"<i style="color:orange;">problem_width</i>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">height</span>=<span style="color:red;">"<i style="color:orange;">problem_height</i>"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">html_file</span>=<span style="color:red;">&quot;/static/dragv2.html?js=<i style="color:orange;">problemName</i>&quot;</span><span style="color:green;">/&gt;<br><span style="opacity:.5;">&lt;/customresponse&gt;<br></span></span></code><br>For this code, <code><i style="color:orange;">problem_height</i></code> is the height of the background image + 60 pixels (for the reset and help buttons, and for padding from the <code style="color:green;">jsinput</code> tag). Dragcreator will automatically give this, as well as <code><i style="color:orange;">problem_width</i></code> (the width of the background image + 10 pixels), to you.<br><br>The value of <code style="color:blue;">expect</code> in quotes, <code><i style="color:orange;">problem_answer</i></code>, is a dictionary with draggable IDs (defined in <code><i style="color:orange;">problemName</i>.json</code>, or when you made the JSON using my tool) and their associated target locations. If a draggable isn't to be used in the answer, it doesn't need to be defined in <code><i style="color:orange;">problem_answer</i></code>. An example implementation is <br><code><span style="color:blue;">expect</span>=<span style="color:red">&quot;{'<i>draggable1</i>': [240,120]}&quot;</span></code><br>where <code style="color:red;">240</code> is the x-value and <code style="color:red;">120</code> is the y-value of the target for <code style="color:red;"><i>draggable1</i></code> relative to the top-left corner of the drop/background image. Dragcreator is good for getting the coordinates.<br><br>One of Dragcreator's great features is the ability to create <code><i style="color:orange;">problem_answer</i></code> for you. When you have finished placing your draggables to their starting positions, you can either use the input area provided and use the coordinate tracker to make the answer yourself, or you can click on "<span style="background-color:#ddd;color:#666;">Alternatively, you can click here to graphically create the answer.</span>" If you do this to begin "stage two" of Dragcreator, you merely have to place the draggables in their target location (and don't move draggables that aren't targets). Once you then click on "<span style="background-color:#ddd;color:#666;">Click here to save your targets</span>," the XML at the bottom of the page will be updated.<br><br><br>To customize how a problem is graded (other than the default setting), you may edit the python code of the <code>isNear</code> function. Within this function, <br><br><code style="line-height:1.5em;"><span style="color:violet;">state[id]</span> = [x_coord, y_coord] &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#888;">//Center of Draggable</span><br><span style="color:peru;">solution[id]</span> = [x_coord, y_coord] &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#888;">//Solution Target (from <i style="color:orange;">problem_answer</i>)</span><br><span style="color:limegreen;">init["draggables"][draggableNum[id]]</span> = {&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#888;">//Draggable Dictionary</span><br>&nbsp;&nbsp;&nbsp;&nbsp;"id": "draggable_id_defined_in_Dragcreator",<br>&nbsp;&nbsp;&nbsp;&nbsp;"url": "example.png",<br>&nbsp;&nbsp;&nbsp;&nbsp;"size": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"width": width_in_pixels,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"height": height_in_pixels<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;"pos": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"x": starting_x_coord,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"y": starting_y_coord<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}</code><br><br>The default implementation checks if the target is within the draggable:<br><br><code style="line-height:1.5em;">def isNear(state,solution,init,draggableNum,id):<br>&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong> abs(<span style="color:violet;">state[id]</span>[0]-<span style="color:peru;">solution[id]</span>[0]) &lt; <span style="color:limegreen;">init["draggables"][draggableNum[id]]</span>["size"]["width"]/2 <strong>and</strong> abs(<span style="color:violet;">state[id]</span>[1]-<span style="color:peru;">solution[id]</span>[1]) &lt; <span style="color:limegreen;">init["draggables"][draggableNum[id]]</span>["size"]["height"]/2</code><br><br><span style="font-size:1.4em;color:#444;line-height:2em;">Known Issues</span><ul style="font-size:1.2em;line-height:1.35em;color:#444;font-family:'helvetica neue',helvetica,arial,sans-serif;font-weight:200;"><li><strong>Dragcreator</strong> In the [SHIFT][ENTER] menu, Google Chrome will automatically download <code><i style="color:orange;">problemName</i>.json</code> to the "Downloads" folder, but Safari will try to open it in a new tab - option-clicking won't fix this because of the dynamic nature of the file's contents, but you can manually create the file using your favorite text editor in plain text or you can change the setting in Safari's preferences.</li><li><strong>dragv2</strong> Browser zoom in Safari when using an SVG target image will result in erratic behavior. The visually impaired are encouraged to either use native OS zoom or to use a different browser.</li><li><strong>dragv2</strong> Using hoverZoom may cause the snapping (to a draggable's original location) to appear unstable, however it is mathematically impossible for this to affect the student's grade when using the default grading method.</li></ul></p>
